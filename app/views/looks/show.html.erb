hi fetch garment 1 number <%= garment_1_look = @the_look.garment_1 %>
hi look it up in Photo database <%= matching_garments = Photo.where({ :id => garment_1_look }) %>
hi hex code of G1 extracted from Photo Database <%= garment_1_base_color = matching_garments.at(0).hex_code %>
hi find hex code in color combination database (base color column) <% g1_base_colorcomb = ColorCombination.where({ :base_color_hex => garment_1_base_color }) %>
<%# hi get the first item of the color combination match <%= matching_g1 = g1_base_colorcomb.at(0) %>
<p>
hi create a list with the records (combination colors) that match base color <% g1_base_colorcomb.each do |a_matching_color| %>
<%= a_matching_color.hex_combination_color %>
<% end %>
</p>

<%# next: 1) Save this hex codes; 2) Photo.all.where to find which garments have those hex codes; 3) if they have, move to validation of type, else blank (is not going to show up at suggestions) %>

hi fetch garment 1 number <%= garment_1_type = @the_look.garment_1 %>
hi look it up in Photo database <%= matching_types = Photo.where({ :id => garment_1_type }) %>
hi hex code of G1 extracted from Photo Database <%= garment_1_type = matching_types.at(0).garment_type %>

<%# next: 1) if garment_1_type == x, then show options that match x, else blank %>

<%# TYPE RULES
Bodysuit + Pants
Bodysuit + Pants + Jackets and Coats
Bodysuit + Pants + Vests
Bodysuit + Shorts
Bodysuit + Shorts + Jackets and Coats
Bodysuit + Shorts + Vests
Bodysuit + Skirts
Bodysuit + Skirts + Jackets and Coats
Bodysuit + Skirts + Vests
Tops + Pants
Tops + Pants + Jackets and Coats
Tops + Pants + Vests
Tops + Shorts
Tops + Shorts + Jackets and Coats
Tops + Shorts + Vests
Tops + Skirts
Tops + Skirts + Jackets and Coats
Tops + Skirts + Vests
Dress
Jumpsuit
Dress + Jackets and Coats
Dress + Vests
Jumpsuit + Jackets and Coats
Jumpsuit + Vests
 %>




<%# page with a specific look %>
<div>
<h1>
<%= @the_look.person.first_name.capitalize %>'s look '<%= @the_look.description.capitalize %>'
</h1>

<p></p>
 

  <div class="container">
  <div class="row">
      <div class="col">
      <a href="/garments/<%= @the_look.first_garment.id %>">
       <img src="<%= @the_look.first_garment.image %>" class="img-thumbnail" width = "300" height = "300">
       </a>
      </div>

      <% if @the_look.second_garment != nil %>
       <div class="col">
       <a href="/garments/<%= @the_look.second_garment.id %>">
        <img src="<%= @the_look.second_garment.image %>" class="img-thumbnail" width = "300" height = "300">
        </a>
      
       <% else %>
       </div>
       <%end %>
  </div>  

      <% if @the_look.third_garment != nil %>
       <div class="col">
       <a href="/garments/<%= @the_look.third_garment.id %>">
       <img src="<%= @the_look.third_garment.image %>" class="img-thumbnail" width = "300" height = "300">
       </a>
       </div>
       <% else %>
       
       <%end %>

      <% if @the_look.fourth_garment != nil %>
       <div class="col">
       <a href="/garments/<%= @the_look.fourth_garment.id %>">
       <img src="<%= @the_look.fourth_garment.image %>" class="img-thumbnail" width = "300" height = "300">
       </a>
        </div>
       <% else %>
      
       <%end %>

      </div>
      
      <div class="row">
      <div class="col">
        <% if @the_look.fifth_garment != nil %>
       <div class="col">
       <a href="/garments/<%= @the_look.fifth_garment.id %>">
       <img src="<%= @the_look.fifth_garment.image %>" class="img-thumbnail" width = "300" height = "300">
       </a>
      </div>
       <% else %>
       <%end %>

    <dl>
      <dt>
  

  <hr>
  <h1> Zelia's suggestions for this look</h1>
  <p style="color:red">*Please note that suggestions change as you add garments to your look</p>
  
  <%# list_of_combinations each do |a_combination| %>

  <%# div class="container">
  <div class="row">
  <% @list_of_photos.each do |a_photo| %>
    <%# <div class="col-md-4">
      <a href="/garments/<%= a_photo.id %>
      <%# <img src="<%# a_photo.image %> <%#" class="img-fluid">
      </a>
    </div>
<% end %>
 <%#</div>
</div>

  <%# img_src=<%# a_combination.image> %>

  <div class="card-group">
  <div class="card">
    <img src="..." class="card-img-top" alt="...">
    <div class="card-body">
      <h5 class="card-title">Card title</h5>
    </div>
    <div class="card-footer">
      <small class="text-muted">Last updated 3 mins ago</small>
    </div>
  </div>
  <div class="card">
    <img src="..." class="card-img-top" alt="...">
    <div class="card-body">
      <h5 class="card-title">Card title</h5>
    </div>
    <div class="card-footer">
      <small class="text-muted">Last updated 3 mins ago</small>
    </div>
  </div>
  <div class="card">
    <img src="..." class="card-img-top" alt="...">
    <div class="card-body">
      <h5 class="card-title">Card title</h5>
    </div>
    <div class="card-footer">
      <small class="text-muted">Last updated 3 mins ago</small>
    </div>
  </div>
</div>









  <hr>

  <form action="/modify_look/<%= @the_look.id %>" method="post">



  <label for="garment_2">Add second garment</label>
    <select class="form-select" aria-label="Default select example" name="query_garment_2">
    <option selected></option>
    <%# add rest of garments below %>
      <% Photo.all.where.not({ :id => [ @the_look.garment_1, @the_look.garment_2, @the_look.garment_3, @the_look.garment_5 ] }).each do |a_photo| %>
  <option value="<%= a_photo.id %>">
  <%= a_photo.caption %>
  </option>
  <% end %>
  </select>

  <form action="/modify_look/<%= @the_look.id %>" method="post">
  <label for="garment_3">Add third garment</label>
    <select class="form-select" aria-label="Default select example" name="query_garment_3">
    <option selected></option>
      <% Photo.all.where.not({ :id => [ @the_look.garment_1, @the_look.garment_2, @the_look.garment_3, @the_look.garment_5 ] }).each do |a_photo| %>
  <option value="<%= a_photo.id %>">
  <%= a_photo.caption %>
  </option>
  <% end %>
  </select>


    <form action="/modify_look/<%= @the_look.id %>" method="post">
  <label for="garment_4">Add fourth garment</label>
    <select class="form-select" aria-label="Default select example" name="query_garment_4">
    <option selected></option>
      <% Photo.all.where.not({ :id => [ @the_look.garment_1, @the_look.garment_2, @the_look.garment_3, @the_look.garment_5 ] }).each do |a_photo| %>
  <option value="<%= a_photo.id %>">
  <%= a_photo.caption %>
  </option>
  <% end %>
  </select>


  <form action="/modify_look/<%= @the_look.id %>" method="post">
  <label for="garment_5">Add fifth garment</label>
    <select class="form-select" aria-label="Default select example" name="query_garment_5">
    <option selected></option>
      <% Photo.all.where.not({ :id => [ @the_look.garment_1, @the_look.garment_2, @the_look.garment_3, @the_look.garment_5 ] }).each do |a_photo| %>
  <option value="<%= a_photo.id %>">
  <%= a_photo.caption %>
  </option>
  <% end %>
  </select>

   
  <button>Add this to your look!</button>
 
    </div>

    <input type="hidden" name="query_garment_1" value="<%= @the_look.garment_1 %>">
    <input type="hidden" name="query_description" value="<%= @the_look.description %>">

</div>
</form>

<%# if garment_2 is selected

show the picture as well

else

show nothing %>

<%#

color_garment = garment_1.fetch("hex_code")

type_garment = garment_1.fetch("type")

if

garment 1 is type and color, show

matches of type and color

else

hide

if garment 1 and 2 are

type 1 color 1 type 2 color 2

show combinations

else 

hide




 %>

<div>
  <div>
    <h2>
      Edit look
    </h2>

    <form action="/update_look/<%= @the_look.id %>"  method="post" >
    <div>
          <label for="caption_box">
          Choose the garment you want to remove from this look
        </label>

        <div class="form-check">
        <input class="form-check-input" type="checkbox" value="<%= @the_look.garment_1 %>" id="flexCheckDefault_1" name="delete_garment_1">
        <label class="form-check-label" for="flexCheckDefault_1">
              Garment <%= @the_look.first_garment.caption %>
            </label>
          </div>

      <% if @the_look.garment_2 != 0 && @the_look.garment_2 != nil %>

        <div class="form-check">
        <input class="form-check-input" type="checkbox" id="flexCheckDefault_2" name="delete_garment_2">
        <label class="form-check-label" for="flexCheckDefault">
              Garment <%= @the_look.second_garment.caption %>
            </label>
          </div>
      
      <% end %>

      <% if @the_look.garment_3 != 0 && @the_look.garment_3 != nil %>

                <div class="form-check">
        <input class="form-check-input" type="checkbox" id="flexCheckDefault_3" name="delete_garment_3">
        <label class="form-check-label" for="flexCheckDefault">
              Garment <%= @the_look.third_garment.caption %>
            </label>
      
      <% end %>

        <% if @the_look.garment_4 != 0 && @the_look.garment_4 != nil %>
          </div>
                <div class="form-check">
        <input class="form-check-input" type="checkbox" id="flexCheckDefault_4" name="delete_garment_4">
        <label class="form-check-label" for="flexCheckDefault">
              Garment <%= @the_look.fourth_garment.caption %>
            </label>
      <% end %>

      <% if @the_look.garment_5 != 0 && @the_look.garment_5 != nil %>
          </div>
                <div class="form-check">
        <input class="form-check-input" type="checkbox" id="flexCheckDefault_5" name="delete_garment_5">
        <label class="form-check-label" for="flexCheckDefault">
              Garment <%= @the_look.fifth_garment.caption %>
            </label>
        <% end %>
          </div>
          </div>

    
    <%# allow users to delete each garment %>

    </div>

      <div>
        <label for="caption_box">
          Change Look's Description
        </label>

        <textarea id="caption_box" name="query_description"><%= @the_look.description %></textarea>
      </div>

      <div>
        <input type="hidden" id="owner_id_box" name="query_owner_id" value="<%= @the_look.owner_id %>">
      </div>

      <button>
        Update Look
      </button>
    </form>
  </div>
</div>

<hr>

  <div>
      <div>
        <form action="/delete_look/<%= @the_look.id %>">
        <button type="submit" class="btn btn-danger">
        <%# <a href="/delete_garment/<%= @the_photo.id %>
          Delete Look</button>
        </form>
      </div>
  </div>

  
